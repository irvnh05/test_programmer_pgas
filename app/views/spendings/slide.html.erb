<style>
    .table-wrapper-scroll-y {
    display: block;
    max-height: 200px; /* Menyesuaikan tinggi scrollbar sesuai kebutuhan */
    overflow-y: auto;
    -ms-overflow-style: -ms-autohiding-scrollbar;
    }
    .my-custom-scrollbar::-webkit-scrollbar {
    width: 12px;
    }
    .my-custom-scrollbar::-webkit-scrollbar-track {
    background-color: #f5f5f5;
    border-radius: 10px;
    }
    .my-custom-scrollbar::-webkit-scrollbar-thumb {
    background-color: #aaa;
    border-radius: 10px;
    border: 3px solid #f5f5f5;
    }
    .my-custom-scrollbar {
    position: relative;
    }
    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background-color: #fff;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      height: 60px;
      padding: 0 20px;
    }

    .header-title {
      margin: 0;
      font-size: 18px;
      height: 40px;
      line-height: 40px;
    }

    .header-logo {
      height: 40px;
      width: 40px;
      object-fit: cover;
      border-radius: 50%;
      vertical-align: middle;
    }

</style>
<div id="spendingCarousel" class="col-6 carousel slide" data-ride="carousel">
<div class="header">
  <h5 class="header-title">Spending</h5>
  <img src="https://source.unsplash.com/random" alt="Logo" class="header-logo">
</div>


  <div class="carousel-inner">
    <% @spendings_by_department.each_with_index do |(department, spendings), index| %>
      <div class="carousel-item <%= 'active' if index == 0 %>">
        <div class="card rounded shadow bg-light">
          <div class="card-header"><%= department %></div>
          <div class="card-body">
            <div class="table-wrapper-scroll-y my-custom-scrollbar">
              <table class="table">
                <thead>
                  <tr>
                    <th>Employee</th>
                    <th>Date</th>
                    <th>Value</th>
                  </tr>
                </thead>
                <tbody>
                  <% spendings.each do |spending| %>
                    <tr>
                      <td><%= spending.employee.name %></td>
                      <td><%= spending.date.strftime('%d %b %Y') %></td>
                      <td><%= number_to_currency(spending.value, precision: 0, unit: 'Rp ') %></td>
                    </tr>
                  <% end %>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>
  <a class="carousel-control-prev" href="#spendingCarousel" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#spendingCarousel" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.scrollbar/0.2.11/jquery.scrollbar.min.js"></script>
<script>
  $(document).ready(function(){
    $('.my-custom-scrollbar').scrollbar();
    $('#spendingCarousel').carousel();
  });
</script>

<script>
  $(document).ready(function() {
    $('#spendingCarousel .table-wrapper-scroll-y').scrollbar();
    $('#spendingCarousel').carousel();
  });
</script>

<!-- CSS only -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

<!-- JS, Popper.js, and jQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.scrollbar/0.2.11/jquery.scrollbar.min.js"></script>  
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
